//##################################################################################################################################################################//
//
// プレイヤーヘッダファイル [player.h]
// Author : SUZUKI FUUTA
//
//##################################################################################################################################################################//
#ifndef _PLAYER_H_
#define _PLAYER_H_

#include "main.h"

//=====================================================================================================================================================================//
// プレイヤーの状態
//=====================================================================================================================================================================//
typedef enum
{
	PLAYERSTATE_APPEAR = 0,	// 出現
	PLAYERSTATE_NORMAL,		// 通常
	PLAYERSTATE_DAMAGE,		// ダメージ
	PLAYERSTATE_WAIT,		// 出現待ち
	PLAYERSTATE_DEATH,		// 死亡
	PLAYERSTATE_DENGER,		// 危険エリア
	PLAYERSTATE_MAX
}PLAYERSTATE;				// 名前；列挙型

//=====================================================================================================================================================================//
// プレイヤーの向いている方向
//=====================================================================================================================================================================//
typedef enum
{
	DIRECTION_RIGTH = 0,	// 右
	DIRECTION_LEFT,			// 左
	DIRECTION_STOP,
	DIRECTION_MAX
}DIRECTION;

//=====================================================================================================================================================================//
// プレイヤーがブロックに当たった方向
//=====================================================================================================================================================================//
typedef enum
{
	HIT_BROCK_RIGTH = 0,	// 右
	HIT_BROCK_LEFT,			// 左
	HIT_BROCK_NO,
	HIT_BROCK_MAX
}HIT_BROCK;

//=====================================================================================================================================================================//
// プレイヤーの現在の状態
//=====================================================================================================================================================================//
typedef struct
{
	int nCounterState;			// 状態カウンター
	int nCounterDisp;			// 出現カウンター
	int nLife;					// 体力
	bool Junp;					// ジャンプ
	D3DXVECTOR3 pos;			// 位置情報
	D3DXVECTOR3 rot;			// 回転情報
	D3DXVECTOR3 move;			// 加減速情報
	D3DXVECTOR3 Oldpos;			// 位置
	HIT_BROCK PlayerBrock;		// プレイヤーの当たった向き
	DIRECTION PlayerDire;		// 向き
	PLAYERSTATE PlayerState;	// プレイヤーの状態
	MODE g_mode;
}PLAYER;						//名前；構造体

//=====================================================================================================================================================================//
// プロトタイプ宣言
//=====================================================================================================================================================================//
HRESULT InitPlayer(void);
void UninitPlayer(void);
void UpdatePlayer(void);
void DrawPlayer(void);
void MovePlayer(void);
PLAYER *GetPlayer(void);
bool HitPlayer(int Damage);

#endif